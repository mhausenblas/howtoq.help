<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon Q Persona Finder</title>
    <style>
        :root {
            --background: #ffffff;
            --surface: #ffffff;
            --primary: #2563eb;
            --primary-hover: #1d4ed8;
            --text: #1a1a1a;
            --text-secondary: #666666;
            --border: #e5e7eb;
            --surface-secondary: #f8fafc;
            --success: #22c55e;
            --card-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] {
            --background: #0f172a;
            --surface: #1e293b;
            --primary: #3b82f6;
            --primary-hover: #2563eb;
            --text: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border: #334155;
            --surface-secondary: #293548;
            --success: #22c55e;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: var(--background);
            color: var(--text);
            transition: background-color 0.3s ease;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--surface);
            padding: 30px;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .theme-toggle {
            background: var(--surface-secondary);
            border: 1px solid var(--border);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }

        .theme-toggle:hover {
            border-color: var(--primary);
        }

        .progress-bar {
            height: 8px;
            background: var(--surface-secondary);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--primary);
            transition: width 0.3s ease;
        }

        .question {
            margin-bottom: 30px;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option-button {
            display: block;
            width: 100%;
            padding: 20px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text);
        }

        .option-button:hover {
            border-color: var(--primary);
            background: var(--surface-secondary);
            transform: translateY(-2px);
        }

        .option-title {
            font-weight: 600;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .option-description {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .result {
            display: none;
        }

        .result.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .use-case {
            background: var(--surface-secondary);
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
            border: 1px solid var(--border);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .query-example {
            background: var(--surface-secondary);
            padding: 16px;
            border-radius: 8px;
            margin: 12px 0;
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            border: 1px solid var(--border);
            overflow-x: auto;
        }

        .reset-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .reset-button:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
        }

        .check-icon {
            color: var(--success);
            display: inline-flex;
        }

        .section-title {
            font-size: 1.5rem;
            margin: 30px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }

        .tag {
            background: var(--surface-secondary);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.875rem;
            color: var(--primary);
            border: 1px solid var(--border);
        }

        .persona-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .persona-title {
            margin: 0;
            font-size: 2rem;
        }

        @media (max-width: 640px) {
            .container {
                padding: 20px;
            }
            
            .option-button {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Amazon Q Persona Finder</h1>
            <button id="theme-toggle" class="theme-toggle">
                <span id="theme-icon">ðŸŒ™</span>
                <span id="theme-text">Dark Mode</span>
            </button>
        </div>
        <div id="quiz">
            <div class="progress-bar">
                <div class="progress-bar-fill" style="width: 33%"></div>
            </div>
            <div class="question">
                <h2 id="question-text">What's your primary focus?</h2>
                <div class="options" id="options"></div>
            </div>
        </div>
        <div id="result" class="result">
            <!-- Results will be inserted here -->
        </div>
    </div>

    <script>
        // Enhanced questions with more specific options
        const questions = [
            {
                text: "What's your primary focus?",
                options: [
                    { id: 'technical', text: 'Technical Implementation', description: 'Building, deploying, and maintaining systems', icon: 'ðŸ› ï¸' },
                    { id: 'business', text: 'Business Operations', description: 'Planning, analysis, and management', icon: 'ðŸ“Š' },
                    { id: 'security', text: 'Security & Compliance', description: 'Ensuring system security and regulatory compliance', icon: 'ðŸ”’' },
                    { id: 'financial', text: 'Financial Management', description: 'Cost optimization and financial planning', icon: 'ðŸ’°' },
                    { id: 'data', text: 'Data & Analytics', description: 'Working with data, ML, and analytics', icon: 'ðŸ“ˆ' }
                ]
            },
            {
                text: 'Which tasks do you perform most often?',
                options: [
                    { id: 'development', text: 'Writing & Reviewing Code', description: 'Application development and code optimization', icon: 'ðŸ’»' },
                    { id: 'infrastructure', text: 'Managing Infrastructure', description: 'System architecture and deployment', icon: 'ðŸ—ï¸' },
                    { id: 'analysis', text: 'Analysis & Planning', description: 'Data analysis and project planning', icon: 'ðŸ“‹' },
                    { id: 'support', text: 'Supporting & Troubleshooting', description: 'Issue resolution and maintenance', icon: 'ðŸ”§' },
                    { id: 'ml', text: 'Machine Learning', description: 'ML model development and deployment', icon: 'ðŸ¤–' }
                ]
            },
            {
                text: 'Which tools do you use most?',
                options: [
                    { id: 'code', text: 'IDEs & Development Tools', description: 'VSCode, Git, AWS SDK', icon: 'âŒ¨ï¸' },
                    { id: 'infra', text: 'Infrastructure Tools', description: 'CloudFormation, Terraform, Console', icon: 'ðŸ”¨' },
                    { id: 'bi', text: 'Business Intelligence', description: 'QuickSight, Excel, Reporting tools', icon: 'ðŸ“Š' },
                    { id: 'monitor', text: 'Monitoring & Security', description: 'CloudWatch, GuardDuty, Security Hub', icon: 'ðŸ“¡' },
                    { id: 'data', text: 'Data & ML Tools', description: 'SageMaker, EMR, Redshift', icon: 'ðŸ§®' }
                ]
            }
        ];

        // Enhanced personas with more roles and detailed information
        const personas = {
            'technical-development-code': {
                title: 'Developer',
                tag: 'Application Development',
                icon: 'ðŸ‘¨â€ðŸ’»',
                description: 'You focus on application development and code optimization',
                primaryUseCases: [
                    'SDK implementation assistance',
                    'Code review and optimization',
                    'Serverless development',
                    'API integration guidance'
                ],
                recommendedQueries: [
                    'Help me implement AWS SDK retry logic',
                    'Review my Lambda function for performance',
                    'Show me how to use AWS SDK for S3 presigned URLs',
                    'Help me implement error handling for my API Gateway'
                ]
            },
            'technical-infrastructure-infra': {
                title: 'Cloud Architect',
                tag: 'Infrastructure Design',
                icon: 'ðŸ—ï¸',
                description: 'You design and implement cloud architecture',
                primaryUseCases: [
                    'Architecture review',
                    'Service selection',
                    'Migration planning',
                    'Performance optimization',
                    'Cost-effective design'
                ],
                recommendedQueries: [
                    'Review my architecture for scalability',
                    'Compare Aurora vs RDS for my use case',
                    'Help design a multi-region strategy',
                    'Suggest improvements for my VPC design'
                ]
            },
            'security-infrastructure-monitor': {
                title: 'Security Engineer',
                tag: 'Security & Compliance',
                icon: 'ðŸ”’',
                description: 'You focus on security and compliance',
                primaryUseCases: [
                    'Security assessments',
                    'Compliance checking',
                    'Access management',
                    'Security monitoring',
                    'Incident response'
                ],
                recommendedQueries: [
                    'Review my IAM policies for security risks',
                    'Help implement HIPAA controls',
                    'Set up GuardDuty with custom findings',
                    'Analyze my Security Hub findings'
                ]
            },
            'financial-analysis-bi': {
                title: 'FinOps Specialist',
                tag: 'Cost Optimization',
                icon: 'ðŸ’°',
                description: 'You optimize cloud costs and financial operations',
                primaryUseCases: [
                    'Cost optimization',
                    'Resource utilization',
                    'Budget management',
                    'Reserved instance planning',
                    'Savings plans analysis'
                ],
                recommendedQueries: [
                    'Analyze my EC2 costs',
                    'Optimize RDS instance costs',
                    'Review reserved instance coverage',
                    'Suggest cost optimization strategies'
                ]
            },
            'data-ml-data': {
                title: 'ML Engineer',
                tag: 'Machine Learning',
                icon: 'ðŸ¤–',
                description: 'You develop and deploy machine learning models',
                primaryUseCases: [
                    'Model development',
                    'SageMaker deployment',
                    'ML pipeline automation',
                    'Model monitoring',
                    'Data pipeline optimization'
                ],
                recommendedQueries: [
                    'Help set up a SageMaker endpoint',
                    'Create a training job template',
                    'Optimize my preprocessing pipeline',
                    'Monitor model drift with CloudWatch'
                ]
            }
        };

        // Theme toggling
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        function setTheme(isDark) {
            document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
            themeIcon.textContent = isDark ? 'â˜€ï¸' : 'ðŸŒ™';
            themeText.textContent = isDark ? 'Light Mode' : 'Dark Mode';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Initialize theme
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        setTheme(savedTheme ? savedTheme === 'dark' : prefersDark);

        themeToggle.addEventListener('click', () => {
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            setTheme(!isDark);
        });

        let currentStep = 0;
        const answers = {};

        function updateProgress() {
            const progressBar = document.querySelector('.progress-bar-fill');
            progressBar.style.width = `${((currentStep + 1) / questions.length) * 100}%`;
        }

        function showQuestion() {
            const question = questions[currentStep];
            document.getElementById('question-text').textContent = question.text;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-button';
                button.innerHTML = `
                    <div class="option-title">
                        <span
